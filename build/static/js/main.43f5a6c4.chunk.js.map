{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","filter","handleFilterChange","react_default","a","createElement","value","onChange","Person","person","deletePerson","name","number","onClick","PersonForm","handleForm","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Notification","message","className","baseUrl","services_persons","getAll","axios","get","then","response","data","create","post","deleteId","id","delete","concat","update","put","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","event","setState","target","updatePerson","personObject","personId","state","persons","find","window","confirm","personService","updatedPerson","notification","setTimeout","catch","error","addPerson","newPerson","console","log","handlePersonForm","preventDefault","some","p","_this2","_this3","filteredPersons","toLowerCase","includes","personsToShow","components_Notification","components_Filter","components_PersonForm","map","components_Person","key","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"sOAQeA,EANA,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,OAAQC,EAAXF,EAAWE,mBAAX,OACbC,EAAAC,EAAAC,cAAA,0CACqBF,EAAAC,EAAAC,cAAA,SAAOC,MAAOL,EAAQM,SAAUL,MCMxCM,EARA,SAAAR,GAAA,IAAGS,EAAHT,EAAGS,OAAQC,EAAXV,EAAWU,aAAX,OACbP,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAKI,EAAOE,MACZR,EAAAC,EAAAC,cAAA,UAAKI,EAAOG,QACZT,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,UAAQQ,QAASH,GAAjB,aCUOI,EAdI,SAAAd,GAAA,IAAGe,EAAHf,EAAGe,WAAYC,EAAfhB,EAAegB,QAASC,EAAxBjB,EAAwBiB,UAAWC,EAAnClB,EAAmCkB,iBAAkBC,EAArDnB,EAAqDmB,mBAArD,OACjBhB,EAAAC,EAAAC,cAAA,QAAMe,SAAUL,GACdZ,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOC,MAAOU,EAAST,SAAUW,KAEzCf,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SAAOC,MAAOW,EAAWV,SAAUY,KAE7ChB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQgB,KAAK,UAAb,kBCGSC,EAZM,SAAAtB,GAAiB,IAAduB,EAAcvB,EAAduB,QACtB,OAAgB,OAAZA,EACK,KAIPpB,EAAAC,EAAAC,cAAA,OAAKmB,UAAU,gBACZD,oBCPDE,EAAU,eAsBDC,EAAA,CAAEC,OApBF,WAEb,OADgBC,IAAMC,IAAIJ,GACXK,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAkBlBC,OAfV,SAACxB,GAEd,OADgBmB,IAAMM,KAAKT,EAAShB,GACrBqB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAaVG,SAVhB,SAACC,GAEhB,OADgBR,IAAMS,OAAN,GAAAC,OAAgBb,EAAhB,KAAAa,OAA2BF,IAC5BN,KAAK,SAAAC,GAAQ,OAAIA,KAQSQ,OAL5B,SAAC9B,EAAQ2B,GAEtB,OADgBR,IAAMY,IAAN,GAAAF,OAAab,EAAb,KAAAa,OAAwBF,GAAM3B,GAC/BqB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SC4H5BS,cAzIb,SAAAA,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACZC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,QAkBF3B,iBAAmB,SAAC+B,GAClBP,EAAKQ,SAAS,CAAElC,QAASiC,EAAME,OAAO7C,SApB1BoC,EAuBdvB,mBAAqB,SAAC8B,GACpBP,EAAKQ,SAAS,CAAEjC,UAAWgC,EAAME,OAAO7C,SAxB5BoC,EA2BdxC,mBAAqB,SAAC+C,GACpBP,EAAKQ,SAAS,CAAEjD,OAAQgD,EAAME,OAAO7C,SA5BzBoC,EA+BdU,aAAe,SAACC,GACd,IAAMC,EAAWZ,EAAKa,MAAMC,QAAQC,KAAK,SAAAhD,GAAM,OAAIA,EAAOE,OAAS+B,EAAKa,MAAMvC,UAASoB,GACnFsB,OAAOC,QAAP,GAAArB,OAAkBI,EAAKa,MAAMvC,QAA7B,2DACF4C,EACGrB,OAAOc,EAAcC,GACrBxB,KAAK,SAAA+B,GACJ,IAAML,EAAUd,EAAKa,MAAMC,QAAQvD,OAAO,SAAAQ,GAAM,OAAIA,EAAO2B,KAAOyB,EAAczB,KAChFM,EAAKQ,SAAS,CACZM,QAASA,EAAQlB,OAAOuB,GACxB7C,QAAS,GACTC,UAAW,GACX6C,aAAY,0BAAAxB,OAAyBuB,EAAclD,KAAvC,aAEdoD,WAAW,WACTrB,EAAKQ,SAAS,CAACY,aAAc,QAC5B,OAEJE,MAAM,SAAAC,GACL,IAAMT,EAAUd,EAAKa,MAAMC,QAAQvD,OAAO,SAAAQ,GAAM,OAAIA,EAAO2B,KAAOkB,IAClEZ,EAAKwB,UAAUb,EAAcG,EAA7B,oCAAAlB,OAAoEe,EAAa1C,UAlD3E+B,EAuDdwB,UAAY,SAACC,EAAWX,EAASM,GAC/BF,EACG3B,OAAOkC,GACPrC,KAAK,SAAArB,GACJiC,EAAKQ,SAAS,CACZM,QAASA,EAAQlB,OAAO7B,GACxBO,QAAS,GACTC,UAAW,GACX6C,iBAEFC,WAAW,WACTrB,EAAKQ,SAAS,CAACY,aAAc,QAC5B,OAEJE,MAAM,SAAAC,GACLG,QAAQC,IAAI,6CAtEJ3B,EA0Ed4B,iBAAmB,SAACrB,GAClBA,EAAMsB,iBAEN,IAAMlB,EAAe,CACnB1C,KAAM+B,EAAKa,MAAMvC,QACjBJ,OAAQ8B,EAAKa,MAAMtC,WAGrB,GAAIyB,EAAKa,MAAMC,QAAQgB,KAAK,SAAA/D,GAAM,OAAIA,EAAOE,OAAS+B,EAAKa,MAAMvC,UAC/D,OAAO0B,EAAKU,aAAaC,GAG3BX,EAAKwB,UAAUb,EAAcX,EAAKa,MAAMC,QAAxC,2BAAAlB,OAAsEe,EAAa1C,QAtFvE+B,EA0FdhC,aAAe,SAACD,GAAD,OAAY,WACtBiD,OAAOC,QAAP,gBAAArB,OAA+B7B,EAAOE,KAAtC,OACDiD,EACGzB,SAAS1B,EAAO2B,IAChBN,KAAK,SAAAC,GACJW,EAAKQ,SAAS,CACZM,QAASd,EAAKa,MAAMC,QAAQvD,OAAO,SAAAwE,GAAC,OAAIA,EAAErC,KAAO3B,EAAO2B,KACxD0B,aAAY,0BAAAxB,OAAyB7B,EAAOE,QAE9CoD,WAAW,WACTrB,EAAKQ,SAAS,CAACY,aAAc,QAC5B,OAEJE,MAAM,SAAAC,GACLG,QAAQC,IAAI,sEAtGlB3B,EAAKa,MAAQ,CACXC,QAAS,GACTxC,QAAS,GACTC,UAAW,GACXhB,OAAQ,GACR6D,aAAc,MAPJpB,mFAWM,IAAAgC,EAAA7B,KAClBe,EACGjC,SACAG,KAAK,SAAA0B,GACJkB,EAAKxB,SAAS,CAAEM,+CA8Fb,IAAAmB,EAAA9B,KACD+B,EAAkB/B,KAAKU,MAAMC,QAAQvD,OAAO,SAAAQ,GAAM,OAAIA,EAAOE,KAAKkE,cAAcC,SAASH,EAAKpB,MAAMtD,OAAO4E,iBAC3GE,EAAsC,KAAtBlC,KAAKU,MAAMtD,OAAgB4C,KAAKU,MAAMC,QAAUoB,EAEtE,OACEzE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAC2E,EAAD,CAAczD,QAASsB,KAAKU,MAAMO,eAClC3D,EAAAC,EAAAC,cAAC4E,EAAD,CAAQhF,OAAQ4C,KAAKU,MAAMtD,OAAQC,mBAAoB2C,KAAK3C,qBAC5DC,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAC6E,EAAD,CACEnE,WAAY8B,KAAKyB,iBACjBtD,QAAS6B,KAAKU,MAAMvC,QACpBC,UAAW4B,KAAKU,MAAMtC,UACtBC,iBAAkB2B,KAAK3B,iBACvBC,mBAAoB0B,KAAK1B,qBAE3BhB,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACG0E,EAAcI,IAAI,SAAA1E,GAAM,OAAIN,EAAAC,EAAAC,cAAC+E,EAAD,CAAQC,IAAK5E,EAAO2B,GAAI3B,OAAQA,EAAQC,aAAciE,EAAKjE,aAAaD,iBAlI/F6E,IAAMC,iBCFxBC,IAASC,OAAOtF,EAAAC,EAAAC,cAACqF,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.43f5a6c4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => (\r\n  <div>\r\n    rajaa näytettäviä: <input value={filter} onChange={handleFilterChange} />\r\n  </div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => (\r\n  <tr>\r\n    <td>{person.name}</td>\r\n    <td>{person.number}</td>\r\n    <td><button onClick={deletePerson} >poista</button></td>\r\n  </tr>\r\n)\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst PersonForm = ({ handleForm, newName, newNumber, handleNameChange, handleNumberChange }) => (\r\n  <form onSubmit={handleForm}>\r\n    <div>\r\n      nimi: <input value={newName} onChange={handleNameChange} />\r\n    </div>\r\n    <div>\r\n      numero: <input value={newNumber} onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">lisää</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (person) => {\r\n  const request = axios.post(baseUrl, person)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteId = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response)\r\n}\r\n\r\nconst update = (person, id) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, person)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deleteId, update }","import React from 'react';\nimport Filter from './components/Filter'\nimport Person from './components/Person'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nclass App extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: '',\n      filter: '',\n      notification: null\n    }\n  }\n\n  componentDidMount() {\n    personService\n      .getAll()\n      .then(persons => {\n        this.setState({ persons })\n      })\n  }\n\n  handleNameChange = (event) => {\n    this.setState({ newName: event.target.value })\n  }\n\n  handleNumberChange = (event) => {\n    this.setState({ newNumber: event.target.value })\n  }\n\n  handleFilterChange = (event) => {\n    this.setState({ filter: event.target.value })\n  }\n\n  updatePerson = (personObject) => {\n    const personId = this.state.persons.find(person => person.name === this.state.newName).id\n    if (window.confirm(`${this.state.newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n      personService\n        .update(personObject, personId)\n        .then(updatedPerson => {\n          const persons = this.state.persons.filter(person => person.id !== updatedPerson.id)\n          this.setState({\n            persons: persons.concat(updatedPerson),\n            newName: '',\n            newNumber: '',\n            notification: `Muutettiin henkilön ${updatedPerson.name} numero`\n          })\n          setTimeout(() => {\n            this.setState({notification: null})\n          }, 3000)\n        })\n        .catch(error => {\n          const persons = this.state.persons.filter(person => person.id !== personId)\n          this.addPerson(personObject, persons, `Uudelleenlisättiin henkilö ${personObject.name}`)\n        })\n    }\n  }\n\n  addPerson = (newPerson, persons, notification) => {\n    personService\n      .create(newPerson)\n      .then(person => {\n        this.setState({\n          persons: persons.concat(person),\n          newName: '',\n          newNumber: '',\n          notification\n        })\n        setTimeout(() => {\n          this.setState({notification: null})\n        }, 3000)\n      })\n      .catch(error => {\n        console.log('Could not retrieve persons from server')\n      })\n  }\n\n  handlePersonForm = (event) => {\n    event.preventDefault()\n    \n    const personObject = {\n      name: this.state.newName,\n      number: this.state.newNumber\n    }\n\n    if (this.state.persons.some(person => person.name === this.state.newName)) {\n      return this.updatePerson(personObject)\n    }\n\n    this.addPerson(personObject, this.state.persons, `Lisättiin henkilö ${personObject.name}`)\n  }\n\n  \n  deletePerson = (person) => () => {\n    if(window.confirm(`Poistetaanko ${person.name}?`)) {\n      personService\n        .deleteId(person.id)\n        .then(response => {\n          this.setState({\n            persons: this.state.persons.filter(p => p.id !== person.id),\n            notification: `Poistettiin henkilö ${person.name}`\n          })\n          setTimeout(() => {\n            this.setState({notification: null})\n          }, 3000)\n        })\n        .catch(error => {\n          console.log('Something went wrong while trying to delete person information')\n        })\n    }\n  }\n\n  render() {\n    const filteredPersons = this.state.persons.filter(person => person.name.toLowerCase().includes(this.state.filter.toLowerCase()))\n    const personsToShow = this.state.filter === '' ? this.state.persons : filteredPersons\n\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <Notification message={this.state.notification} />\n        <Filter filter={this.state.filter} handleFilterChange={this.handleFilterChange} />\n        <h2>Lisää uusi</h2>\n        <PersonForm \n          handleForm={this.handlePersonForm}\n          newName={this.state.newName}\n          newNumber={this.state.newNumber}\n          handleNameChange={this.handleNameChange}\n          handleNumberChange={this.handleNumberChange}\n        />\n        <h2>Numerot</h2>\n        <table>\n          <tbody>\n            {personsToShow.map(person => <Person key={person.id} person={person} deletePerson={this.deletePerson(person)} />)}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}